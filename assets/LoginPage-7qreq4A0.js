import{d as w,r as n,u as y,a as u,b as s,q as x,f as h,i as m,v as c,t as v,h as p,m as S,w as V,n as k,x as L,s as f}from"./index-BahtY7yE.js";const N={class:"row justify-content-center"},C={class:"col-md-6"},P={class:"card"},q={class:"card-body"},B={class:"mb-3"},D={class:"mb-3"},A={key:0,class:"alert alert-danger"},E=["disabled"],I={class:"mt-3 text-center"},U=w({__name:"LoginPage",setup(M){const a=n(""),o=n(""),t=n(""),r=n(!1),g=y(),_=L(),b=async()=>{if(!a.value||!o.value){t.value="Please enter both email and password";return}try{r.value=!0,t.value="";const e=JSON.parse(localStorage.getItem("users")||"[]").find(l=>l.email===a.value&&l.password===o.value);e?(g.login({id:e.id,name:e.name,email:e.email,avatar:e.avatar,role:"user"}),_.push("/")):t.value="Invalid email or password"}catch(i){console.error("Login error:",i),t.value="An error occurred. Please try again."}finally{r.value=!1}};return(i,e)=>{const l=k("router-link");return f(),u("div",N,[s("div",C,[s("div",P,[s("div",q,[e[6]||(e[6]=s("h2",{class:"text-center mb-4"},"Login",-1)),s("form",{onSubmit:x(b,["prevent"])},[s("div",B,[e[2]||(e[2]=s("label",{for:"email",class:"form-label"},"Email",-1)),m(s("input",{type:"email",class:"form-control",id:"email","onUpdate:modelValue":e[0]||(e[0]=d=>a.value=d),required:""},null,512),[[c,a.value]])]),s("div",D,[e[3]||(e[3]=s("label",{for:"password",class:"form-label"},"Password",-1)),m(s("input",{type:"password",class:"form-control",id:"password","onUpdate:modelValue":e[1]||(e[1]=d=>o.value=d),required:""},null,512),[[c,o.value]])]),t.value?(f(),u("div",A,v(t.value),1)):h("",!0),s("button",{type:"submit",class:"btn btn-primary w-100",disabled:r.value},v(r.value?"Logging in...":"Login"),9,E),s("p",I,[e[5]||(e[5]=p(" Don't have an account? ")),S(l,{to:"/register"},{default:V(()=>e[4]||(e[4]=[p("Sign up")])),_:1,__:[4]})])],32)])])])])}}});export{U as default};
